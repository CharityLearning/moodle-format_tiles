define(["jquery","core/notification","core/str","core/templates"],function(a,b,c,d){"use strict";return{init:function(){a(document).ready(function(){a("select#id_courseusesubtiles").change(function(b){"0"!==b.currentTarget.value&&a("input#id_courseusebarforheadings").prop("checked",!1)}),a("select#id_courseshowtileprogress").change(function(d){if("0"!==d.currentTarget.value){var e=a("select#id_enablecompletion");"0"===e.val()&&(e.val("1"),c.get_strings([{key:"completion",component:"completion"},{key:"completionswitchhelp",component:"format_tiles"}]).done(function(a){b.alert(a[0],a[1])}))}}),a("select#id_enablecompletion").change(function(b){"0"===b.currentTarget.value&&a("select#id_courseshowtileprogress").val("0")});var e=a("select#id_basecolour");d.render("format_tiles/colour_picker",{colours:e.find("option").map(function(b,c){var d=a(c),f=d.attr("value");return{colour:f,colourname:d.text(),selected:f===e.val(),id:f.replace("#","")}}).toArray()}).done(function(b){a(b).insertAfter(e),e.hide();var c=a(".colourpickercircle");c.click(function(b){var d=a(b.currentTarget);c.removeClass("selected"),d.addClass("selected"),e.val(d.attr("data-colour")),a("#colourselectnotify").fadeIn(200).fadeOut(1200)}),e.change(function(){c.removeClass("selected"),a("#colourpick_"+e.val().replace("#","")).addClass("selected")})})})}}});